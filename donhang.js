const _0x506358=_0xd200;(function(_0xbb6924,_0x13ad54){const _0x8d315a=_0xd200,_0x9b677b=_0xbb6924();while(!![]){try{const _0x338bd5=-parseInt(_0x8d315a(0x137))/0x1*(-parseInt(_0x8d315a(0x157))/0x2)+-parseInt(_0x8d315a(0xfe))/0x3+-parseInt(_0x8d315a(0x184))/0x4+parseInt(_0x8d315a(0x154))/0x5+-parseInt(_0x8d315a(0x162))/0x6*(-parseInt(_0x8d315a(0x101))/0x7)+-parseInt(_0x8d315a(0x169))/0x8*(-parseInt(_0x8d315a(0x16a))/0x9)+-parseInt(_0x8d315a(0x186))/0xa*(-parseInt(_0x8d315a(0xe9))/0xb);if(_0x338bd5===_0x13ad54)break;else _0x9b677b['push'](_0x9b677b['shift']());}catch(_0x33e5bc){_0x9b677b['push'](_0x9b677b['shift']());}}}(_0x2b4f,0xa2ad6));const API_CONFIG={'APP_ID':_0x506358(0x140),'ACCESS_KEY':'V2-MipF3-d6wQk-t6AIN-zzz0j-HglL4-Uq2Yp-EckHF-m3lOV','REGION':'www','BASE_URL':_0x506358(0x10b),'APP_NAME':_0x506358(0x19a)};function _0xd200(_0x4513cf,_0x8cfe34){const _0x2b4f87=_0x2b4f();return _0xd200=function(_0xd20024,_0x456c41){_0xd20024=_0xd20024-0xe0;let _0x2df8d5=_0x2b4f87[_0xd20024];return _0x2df8d5;},_0xd200(_0x4513cf,_0x8cfe34);}function setDocumentTitle(_0x50c5fa){const _0x1ef4a3=_0x506358;_0x50c5fa&&_0x50c5fa!==_0x1ef4a3(0x173)&&(document[_0x1ef4a3(0x14d)]=_0x50c5fa);}let state={'orderData':null,'loading':![]};const PrintManager={'print':async()=>{const _0x5c8ef4=_0x506358;try{if(!state[_0x5c8ef4(0xf0)]){alert(_0x5c8ef4(0x139));return;}const _0x159f5e=document[_0x5c8ef4(0x199)](_0x5c8ef4(0xff)),_0x34922b=_0x159f5e[_0x5c8ef4(0xe8)];_0x159f5e[_0x5c8ef4(0x128)]=!![],_0x159f5e['innerHTML']=_0x5c8ef4(0x17f),PrintManager[_0x5c8ef4(0x113)]('ƒêang\x20chu·∫©n\x20b·ªã\x20in...');const _0x359064=document[_0x5c8ef4(0x199)]('soPhieu')[_0x5c8ef4(0xf3)];_0x359064&&_0x359064!=='ƒêang\x20t·∫£i...'&&(document[_0x5c8ef4(0x14d)]=_0x5c8ef4(0x105)+_0x359064),await PrintManager[_0x5c8ef4(0x198)](),PrintManager[_0x5c8ef4(0x166)](),window[_0x5c8ef4(0x155)](),setTimeout(()=>{const _0x10ba30=_0x5c8ef4;_0x159f5e[_0x10ba30(0x128)]=![],_0x159f5e['innerHTML']=_0x34922b;},0x3e8);}catch(_0x536d31){console[_0x5c8ef4(0x192)]('Print\x20error:',_0x536d31),alert(_0x5c8ef4(0x1a0));const _0x1d09c6=document[_0x5c8ef4(0x199)](_0x5c8ef4(0xff));_0x1d09c6[_0x5c8ef4(0x128)]=![],_0x1d09c6['innerHTML']=_0x5c8ef4(0x165),PrintManager[_0x5c8ef4(0x166)]();}},'waitForImages':()=>{return new Promise(_0x39d4fc=>{const _0x378758=_0xd200,_0x43c9d9=document[_0x378758(0x167)](_0x378758(0x115));let _0x4828c3=0x0;const _0x3bfe4e=_0x43c9d9['length'];if(_0x3bfe4e===0x0){_0x39d4fc();return;}const _0x1112bf=()=>{_0x4828c3++,_0x4828c3>=_0x3bfe4e&&_0x39d4fc();};_0x43c9d9[_0x378758(0x10e)](_0x46665a=>{const _0x5627a1=_0x378758;_0x46665a['complete']?_0x1112bf():(_0x46665a[_0x5627a1(0x1a3)]=_0x1112bf,_0x46665a[_0x5627a1(0xfa)]=_0x1112bf);}),setTimeout(()=>{_0x39d4fc();},0x1388);});},'showPrintStatus':_0x65439=>{const _0x179273=_0x506358,_0x2ac02a=document[_0x179273(0x199)](_0x179273(0x11d));_0x2ac02a[_0x179273(0xf3)]=_0x65439,_0x2ac02a[_0x179273(0x18d)][_0x179273(0x1a5)]=_0x179273(0x177);},'hidePrintStatus':()=>{const _0x55fd60=_0x506358,_0x3f1ceb=document[_0x55fd60(0x199)](_0x55fd60(0x11d));_0x3f1ceb[_0x55fd60(0x18d)][_0x55fd60(0x1a5)]=_0x55fd60(0x182);}};function printDocument(){PrintManager['print']();}const apiService={'createAxiosInstance'(){const _0x22f945=_0x506358;return axios[_0x22f945(0x1b2)]({'baseURL':API_CONFIG[_0x22f945(0xe6)]+'/'+API_CONFIG[_0x22f945(0xe7)]+_0x22f945(0xfd),'headers':{'ApplicationAccessKey':API_CONFIG[_0x22f945(0x194)],'Content-Type':_0x22f945(0x14e)}});},async 'request'(_0x5b9d93,_0x3fad0b,_0x2b842b={},_0x2770c0={}){const _0x468354=_0x506358;try{const _0x51113d=this[_0x468354(0x151)](),_0x5a125c={'Action':_0x3fad0b,'Properties':{'UserSettings':{'User\x20name':_0x468354(0x11a),'Password':_0x468354(0x11b)},..._0x2770c0},..._0x2b842b},_0x60ae44=await _0x51113d['post']('/'+_0x5b9d93+_0x468354(0x104),_0x5a125c);return _0x60ae44[_0x468354(0x16d)];}catch(_0x22d0f7){console[_0x468354(0x192)](_0x468354(0xf5),_0x22d0f7);throw _0x22d0f7;}},async 'getProductInfo'(_0x279bb1){const _0x13593b=_0x506358;try{console[_0x13593b(0x122)](_0x13593b(0x15d)+_0x279bb1);const _0x2e7a96=await this[_0x13593b(0x168)](_0x13593b(0xfc),_0x13593b(0xe1),{},{'Selector':_0x13593b(0xf1)+_0x279bb1+'\x27)'});return console[_0x13593b(0x122)](_0x13593b(0x17a)+_0x279bb1+':',_0x2e7a96),_0x2e7a96&&_0x2e7a96[_0x13593b(0x112)]>0x0?_0x2e7a96[0x0]:null;}catch(_0x211cc1){return console['error'](_0x13593b(0x19d),_0x211cc1),null;}},async 'getMultipleProductsInfo'(_0x3605f8){const _0x175ae3=_0x506358;try{console[_0x175ae3(0x122)]('Fetching\x20multiple\x20product\x20info\x20for:',_0x3605f8);const _0x354846=_0x3605f8[_0x175ae3(0x176)](_0x27ac57=>'[M√£\x20SP]\x20=\x20\x27'+_0x27ac57+'\x27')[_0x175ae3(0x18f)]('\x20OR\x20'),_0x4d4f02=_0x175ae3(0xea)+_0x354846+')',_0x45411e=await this[_0x175ae3(0x168)](_0x175ae3(0xfc),_0x175ae3(0xe1),{},{'Selector':_0x4d4f02});return console[_0x175ae3(0x122)]('Multiple\x20products\x20response:',_0x45411e),_0x45411e||[];}catch(_0x270b59){return console['error'](_0x175ae3(0xed),_0x270b59),[];}},'getImageUrl':_0xdee58a=>{const _0x3bb746=_0x506358;if(!_0xdee58a)return'';const _0x10eef7=_0xdee58a[_0x3bb746(0xec)]();console[_0x3bb746(0x122)](_0x3bb746(0x15b),_0x10eef7);const _0x22e47c=_0x3bb746(0x106),_0x19b28f=new URLSearchParams({'appName':API_CONFIG[_0x3bb746(0xeb)],'tableName':_0x3bb746(0xfc),'fileName':_0x10eef7}),_0x560edb=_0x22e47c+'?'+_0x19b28f[_0x3bb746(0x121)]();return console[_0x3bb746(0x122)](_0x3bb746(0x129),_0x560edb),_0x560edb;}},imageHandler={'updateImageInContainer':(_0x1f8bf2,_0xa8efd1)=>{const _0x4acec6=_0x506358;if(!_0x1f8bf2||!_0xa8efd1){_0x1f8bf2&&(_0x1f8bf2[_0x4acec6(0xe8)]='<div\x20class=\x22no-image\x22>No\x20Image</div>');return;}console[_0x4acec6(0x122)](_0x4acec6(0x116),_0xa8efd1),_0x1f8bf2['innerHTML']='<div\x20class=\x22image-loading\x22>ƒêang\x20t·∫£i...</div>';const _0x448a93=document[_0x4acec6(0x1a4)](_0x4acec6(0x138));_0x448a93[_0x4acec6(0x15c)]='Product\x20Image',_0x448a93[_0x4acec6(0x1a3)]=function(){const _0x1e15d5=_0x4acec6;console[_0x1e15d5(0x122)]('Image\x20loaded\x20successfully:',_0xa8efd1);const _0x2d85e3=document[_0x1e15d5(0x1a4)]('a');_0x2d85e3['href']=_0xa8efd1,_0x2d85e3[_0x1e15d5(0x132)]=_0x1e15d5(0x14f),_0x2d85e3['style'][_0x1e15d5(0x1a5)]='block',_0x2d85e3[_0x1e15d5(0x18d)][_0x1e15d5(0x10c)]='pointer',_0x2d85e3[_0x1e15d5(0x16e)](this),_0x1f8bf2[_0x1e15d5(0xe8)]='',_0x1f8bf2[_0x1e15d5(0x16e)](_0x2d85e3);},_0x448a93[_0x4acec6(0xfa)]=function(){const _0xad44bd=_0x4acec6;console['error'](_0xad44bd(0x1ab),_0xa8efd1),_0x1f8bf2[_0xad44bd(0xe8)]=_0xad44bd(0x152);},_0x448a93[_0x4acec6(0x161)]=_0xa8efd1;},'showModal':_0x2cba30=>{const _0x56b80f=_0x506358,_0x287a1e=document[_0x56b80f(0x199)](_0x56b80f(0x1a6)),_0x404ad5=document[_0x56b80f(0x199)](_0x56b80f(0x17c));_0x287a1e&&_0x404ad5&&(_0x287a1e['style'][_0x56b80f(0x1a5)]=_0x56b80f(0x177),_0x404ad5[_0x56b80f(0x161)]=_0x2cba30);}},showLoading=()=>{const _0x4986ef=_0x506358;document[_0x4986ef(0x199)](_0x4986ef(0x111))[_0x4986ef(0x18d)]['display']='flex',state[_0x4986ef(0x143)]=!![];},hideLoading=()=>{const _0x129139=_0x506358;document['getElementById'](_0x129139(0x111))[_0x129139(0x18d)]['display']='none',state[_0x129139(0x143)]=![];};function formatNumber(_0x1b6a8c){const _0x6a7027=_0x506358;if(_0x1b6a8c===null||_0x1b6a8c===undefined||isNaN(_0x1b6a8c))return'0';return new Intl[(_0x6a7027(0x13f))]('vi-VN')['format'](_0x1b6a8c);}function formatDate(_0x217c51){const _0x30fa69=_0x506358;if(!_0x217c51)return'';try{const _0x2b6a6b=new Date(_0x217c51);if(isNaN(_0x2b6a6b['getTime']()))return _0x217c51;return _0x2b6a6b[_0x30fa69(0x1ac)](_0x30fa69(0xe4));}catch(_0x126c7d){return _0x217c51;}}function _0x2b4f(){const _0x52a09a=['</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22product-image\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22image-loading\x22>ƒêang\x20t·∫£i...</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','Ng∆∞·ªùi\x20duy·ªát','ctrlKey','ƒê∆°n\x20gi√°','Before\x20print\x20event\x20triggered','className','afterprint','title','application/json','_blank','nƒÉm\x20m∆∞∆°i','createAxiosInstance','<div\x20class=\x22no-image\x22\x20style=\x22font-size:\x209px;\x22>L·ªói\x20t·∫£i\x20·∫£nh</div>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','1489750BelHnM','print','<div\x20class=\x22no-image\x22>Kh√¥ng\x20c√≥\x20m√£\x20SP</div>','38NrllAh','S·ªë\x20l∆∞·ª£ng','Photo','DonHang','Original\x20fileName:','alt','Fetching\x20product\x20info\x20for\x20M√£\x20SP:\x20','S·ªë\x20ƒêH','ghichudonhang','ch√≠n','src','140610wPOszA','soPhieu','T√™n\x20Ng∆∞·ªùi\x20nh·∫≠n\x20ƒë∆°n','üñ®Ô∏è\x20In\x20ƒë∆°n\x20h√†ng','hidePrintStatus','querySelectorAll','request','152AxwrwU','399942oUAzxd','file','</td></tr>','data','appendChild','<tr><td\x20colspan=\x228\x22\x20class=\x22warning\x22>‚ö†Ô∏è\x20Kh√¥ng\x20c√≥\x20chi\x20ti·∫øt\x20s·∫£n\x20ph·∫©m\x20cho\x20ƒë∆°n\x20h√†ng\x20n√†y</td></tr>','Product\x20info\x20for\x20','hai\x20m∆∞∆°i','CTDonHang','ƒêang\x20t·∫£i...','set','t√°m','map','block','VAT','\x20VNƒê</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x222\x22></td>\x0a\x20\x20\x20\x20\x20\x20\x20','Product\x20info\x20response\x20for\x20','Filter(CTDonHang,\x20[S·ªë\x20ƒêH]\x20=\x20\x27','modalImage','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20style=\x22padding:\x206px;\x20text-align:\x20center;\x20font-weight:\x20bold;\x22>T·ªïng\x20ti·ªÅn</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x206px;\x20text-align:\x20right;\x20font-weight:\x20bold;\x22>','s√°u\x20m∆∞∆°i','‚è≥\x20ƒêang\x20in...','charAt','getImageUrl','none','header','2644680SrtqYE','updateImageInContainer','890hQVGJJ','all','search','tenKhachHang','\x20cm\x20-\x20','M√£\x20SP','hai','style','T·ªïng\x20ti·ªÅn','join','Error\x20initializing\x20order\x20data:','Filter(DonHang,\x20[S·ªë\x20ƒêH]\x20=\x20\x27','error','Ch·∫•t\x20li·ªáu\x20lo·∫°i\x20v·∫≠t\x20t∆∞','ACCESS_KEY','loaiKhachHang','slice','soDienThoai','waitForImages','getElementById','MocAnSystem-777046908','getMultipleProductsInfo','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22number\x22>','Error\x20fetching\x20product\x20info:','picture','C√°i','C√≥\x20l·ªói\x20x·∫£y\x20ra\x20khi\x20in.\x20Vui\x20l√≤ng\x20th·ª≠\x20l·∫°i!','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','T√™n\x20S·∫£n\x20ph·∫©m','onload','createElement','display','imageModal','Product\x20info\x20map:','H·∫°n\x20giao\x20h√†ng','diaChiGiao','Kh√¥ng\x20t√¨m\x20th·∫•y\x20ƒë∆°n\x20h√†ng\x20v·ªõi\x20s·ªë:\x20','Image\x20load\x20failed:','toLocaleDateString','T√™n\x20ng∆∞·ªùi\x20t·∫°o','tri·ªáu','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x228\x22\x20style=\x22padding:\x206px;\x20text-align:\x20left;\x20font-style:\x20italic;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Vi·∫øt\x20b·∫±ng\x20ch·ªØ:\x20','s√°u','ƒêvt','create','<div\x20class=\x22no-image\x22>No\x20Image</div>','Find','orderId','m·ªôt','vi-VN','b·ªën\x20m∆∞∆°i','BASE_URL','APP_ID','innerHTML','20746degalu','Filter(DMSP,\x20','APP_NAME','trim','Error\x20fetching\x20multiple\x20products\x20info:','Ng∆∞·ªùi\x20nh·∫≠n\x20h√†ng','nguoiLapKy','orderData','Filter(DMSP,\x20[M√£\x20SP]\x20=\x20\x27','b·∫£y\x20m∆∞∆°i','textContent','message','API\x20request\x20failed:','total-row','Ghi\x20ch√∫','ngh√¨n','kh√¥ng\x20ƒë·ªìng','onerror','m∆∞·ªùi','DMSP','/tables','1373718YJSEAr','printBtn','Attachment','42ZLAcWy','push','hanGiaoHang','/Action','DonHang_','https://www.appsheet.com/image/getimageurl','location','keydown','productTableBody','Quy\x20c√°ch','https://www.appsheet.com/api/v2/apps','cursor','ProductID','forEach','querySelector','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20style=\x22padding:\x206px;\x20text-align:\x20center;\x20font-weight:\x20bold;\x22>VAT\x20','loadingOverlay','length','showPrintStatus','MaSP','.product-image\x20img','Loading\x20image\x20with\x20URL:','Image\x20filename\x20for\x20','.product-image','addEventListener','Admin','123456','kh√¥ng','printStatus','ƒê·ªãa\x20ch·ªâ\x20nh·∫≠n\x20h√†ng','Product\x20ID','Th√†nh\x20ti·ªÅn','toString','log','No\x20product\x20info\x20found\x20for\x20','All\x20products\x20info:','get','\x20l·∫ª\x20','</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20','disabled','Generated\x20URL:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20colspan=\x225\x22\x20style=\x22padding:\x206px;\x20text-align:\x20center;\x20font-weight:\x20bold;\x22>T·ªîNG\x20TI·ªÄN\x20THANH\x20TO√ÅN</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x206px;\x20text-align:\x20right;\x20font-weight:\x20bold;\x22>','nguoiDuyet','has','nguoiNhanHang','floor','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20style=\x22padding:\x206px;\x20text-align:\x20right;\x20font-weight:\x20bold;\x22>','toUpperCase','Ng√†y','target','L·ªói\x20t·∫£i\x20d·ªØ\x20li·ªáu','click','T√™n\x20kh√°ch\x20h√†ng','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22product-name\x22>','17614SXZOny','img','Vui\x20l√≤ng\x20ƒë·ª£i\x20d·ªØ\x20li·ªáu\x20t·∫£i\x20xong\x20tr∆∞·ªõc\x20khi\x20in!','ch√≠n\x20m∆∞∆°i','Error\x20in\x20populateProductTable:','Error\x20fetching\x20order:','ba\x20m∆∞∆°i','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','NumberFormat','323b6578-b51a-425a-9775-c84d2d8d0904','attachment','key','loading','\x20-\x20','ngayLap'];_0x2b4f=function(){return _0x52a09a;};return _0x2b4f();}function numberToWords(_0x407fba){const _0x47f326=_0x506358;if(_0x407fba===0x0||_0x407fba===null||_0x407fba===undefined)return _0x47f326(0xf9);const _0x113092=['',_0x47f326(0xe3),_0x47f326(0x18c),'ba','b·ªën','nƒÉm',_0x47f326(0x1b0),'b·∫£y',_0x47f326(0x175),_0x47f326(0x160)],_0x33fbc0=['','',_0x47f326(0x171),_0x47f326(0x13d),_0x47f326(0xe5),_0x47f326(0x150),_0x47f326(0x17e),_0x47f326(0xf2),'t√°m\x20m∆∞∆°i',_0x47f326(0x13a)],_0x3280b0=['',_0x47f326(0xf8),_0x47f326(0x1ae),'t·ª∑'];function _0x61b41e(_0x375426){const _0x4323a5=_0x47f326;let _0x23319c='';const _0x266a9a=Math[_0x4323a5(0x12e)](_0x375426/0x64),_0x1045d5=_0x375426%0x64,_0x2eb9b2=Math[_0x4323a5(0x12e)](_0x1045d5/0xa),_0x19f802=_0x1045d5%0xa;_0x266a9a>0x0&&(_0x23319c+=_0x113092[_0x266a9a]+'\x20trƒÉm');if(_0x2eb9b2>0x1)_0x23319c+=(_0x23319c?'\x20':'')+_0x33fbc0[_0x2eb9b2],_0x19f802>0x0&&(_0x23319c+='\x20'+_0x113092[_0x19f802]);else{if(_0x2eb9b2===0x1)_0x23319c+=(_0x23319c?'\x20':'')+_0x4323a5(0xfb),_0x19f802>0x0&&(_0x23319c+='\x20'+_0x113092[_0x19f802]);else{if(_0x19f802>0x0&&_0x266a9a>0x0)_0x23319c+=_0x4323a5(0x126)+_0x113092[_0x19f802];else _0x19f802>0x0&&(_0x23319c+=(_0x23319c?'\x20':'')+_0x113092[_0x19f802]);}}return _0x23319c;}function _0x1053e7(_0xa5d5af){const _0x3fa697=_0x47f326;if(_0xa5d5af===0x0)return _0x3fa697(0x11c);let _0x47a4dc='',_0x193477=0x0;while(_0xa5d5af>0x0){const _0x4ec992=_0xa5d5af%0x3e8;if(_0x4ec992!==0x0){const _0x5f0bc1=_0x61b41e(_0x4ec992),_0x1f49a1=_0x3280b0[_0x193477];_0x47a4dc=_0x5f0bc1+(_0x1f49a1?'\x20'+_0x1f49a1:'')+(_0x47a4dc?'\x20'+_0x47a4dc:'');}_0xa5d5af=Math[_0x3fa697(0x12e)](_0xa5d5af/0x3e8),_0x193477++;}return _0x47a4dc;}const _0x3eeb6e=_0x1053e7(Math[_0x47f326(0x12e)](_0x407fba));return _0x3eeb6e[_0x47f326(0x180)](0x0)[_0x47f326(0x130)]()+_0x3eeb6e[_0x47f326(0x196)](0x1)+'\x20ƒë·ªìng';}async function fetchOrderData(_0x255ed3){const _0x50eb78=_0x506358;try{showLoading();const [_0x5d55c5,_0x470569]=await Promise[_0x50eb78(0x187)]([apiService[_0x50eb78(0x168)](_0x50eb78(0x15a),'Find',{},{'Selector':_0x50eb78(0x191)+_0x255ed3+'\x27)'}),apiService[_0x50eb78(0x168)](_0x50eb78(0x172),_0x50eb78(0xe1),{},{'Selector':_0x50eb78(0x17b)+_0x255ed3+'\x27)'})]);if(!_0x5d55c5||_0x5d55c5['length']===0x0)throw new Error(_0x50eb78(0x1aa)+_0x255ed3);return state['orderData']={'header':_0x5d55c5[0x0],'details':_0x470569||[]},state[_0x50eb78(0xf0)];}catch(_0x27883a){console[_0x50eb78(0x192)](_0x50eb78(0x13c),_0x27883a);throw _0x27883a;}finally{hideLoading();}}function populateOrderHeader(_0x527097){const _0xf007bd=_0x506358;try{const _0x3512eb=_0x527097[_0xf007bd(0x15e)]||'\x20';document[_0xf007bd(0x199)]('soPhieu')[_0xf007bd(0xf3)]=_0x3512eb,setDocumentTitle(_0x3512eb),document[_0xf007bd(0x199)](_0xf007bd(0x189))[_0xf007bd(0xf3)]=_0x527097[_0xf007bd(0x135)]||'\x20',document['getElementById'](_0xf007bd(0x145))[_0xf007bd(0xf3)]=formatDate(_0x527097[_0xf007bd(0x131)]),document[_0xf007bd(0x199)](_0xf007bd(0x1a9))[_0xf007bd(0xf3)]=_0x527097[_0xf007bd(0x11e)]||'\x20',document[_0xf007bd(0x199)](_0xf007bd(0x195))[_0xf007bd(0xf3)]=_0x527097[_0xf007bd(0x164)]||'\x20',document['getElementById']('nguoiNhanHang')['textContent']=_0x527097[_0xf007bd(0xee)]||'\x20',document[_0xf007bd(0x199)](_0xf007bd(0x197))[_0xf007bd(0xf3)]=_0x527097['S·ªë\x20ƒëi·ªán\x20tho·∫°i']||'\x20',document['getElementById']('hanGiaoHang')['textContent']=formatDate(_0x527097[_0xf007bd(0x1a8)]),document[_0xf007bd(0x199)](_0xf007bd(0x12b))[_0xf007bd(0xf3)]=_0x527097[_0xf007bd(0x147)]||'\x20',document[_0xf007bd(0x199)]('nguoiLapKy')[_0xf007bd(0xf3)]=_0x527097[_0xf007bd(0x1ad)]||'\x20',document[_0xf007bd(0x199)](_0xf007bd(0x15f))[_0xf007bd(0xf3)]=_0x527097[_0xf007bd(0xf7)]||'';}catch(_0x2b6ca5){console[_0xf007bd(0x192)]('Error\x20populating\x20header:',_0x2b6ca5);throw _0x2b6ca5;}}async function populateProductTable(_0x21dd07){const _0xc94129=_0x506358,_0x3d531c=document[_0xc94129(0x199)](_0xc94129(0x109));_0x3d531c[_0xc94129(0xe8)]='';try{if(_0x21dd07[_0xc94129(0x112)]===0x0){_0x3d531c[_0xc94129(0xe8)]=_0xc94129(0x16f);return;}const _0x263b7e=_0x21dd07[_0xc94129(0x176)](_0xabafc=>{const _0xf0ba3d=_0xc94129;return _0xabafc[_0xf0ba3d(0x18b)]||_0xabafc[_0xf0ba3d(0x114)]||_0xabafc[_0xf0ba3d(0x11f)]||_0xabafc[_0xf0ba3d(0x10d)];})['filter'](_0x384364=>_0x384364);console[_0xc94129(0x122)]('All\x20product\x20codes:',_0x263b7e);const _0x207921=await apiService[_0xc94129(0x19b)](_0x263b7e);console['log'](_0xc94129(0x124),_0x207921);const _0x14e155=new Map();_0x207921[_0xc94129(0x10e)](_0x32004d=>{const _0x41470f=_0xc94129,_0x2c714c=_0x32004d['M√£\x20SP'];_0x2c714c&&_0x14e155[_0x41470f(0x174)](_0x2c714c,_0x32004d);}),console[_0xc94129(0x122)](_0xc94129(0x1a7),_0x14e155);const _0x54a808=[];for(let _0x116637=0x0;_0x116637<_0x21dd07[_0xc94129(0x112)];_0x116637++){const _0x39a9a5=_0x21dd07[_0x116637],_0x59420d=parseFloat(_0x39a9a5[_0xc94129(0x158)])||0x0,_0x323256=parseFloat(_0x39a9a5[_0xc94129(0x149)])||0x0,_0x4d4ea8=parseFloat(_0x39a9a5[_0xc94129(0x120)])||_0x59420d*_0x323256,_0x4f372d=document['createElement']('tr');_0x4f372d[_0xc94129(0xe8)]=_0xc94129(0x13e)+(_0x116637+0x1)+_0xc94129(0x136)+(_0x39a9a5[_0xc94129(0x1a2)]||'\x20')+_0xc94129(0x144)+(_0x39a9a5[_0xc94129(0x10a)]||'\x20')+_0xc94129(0x18a)+(_0x39a9a5[_0xc94129(0x193)]||'\x20')+_0xc94129(0x153)+(_0x39a9a5[_0xc94129(0x1b1)]||_0xc94129(0x19f))+_0xc94129(0x19c)+formatNumber(_0x59420d)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22number\x22>'+formatNumber(_0x323256)+_0xc94129(0x19c)+formatNumber(_0x4d4ea8)+_0xc94129(0x146)+(_0x39a9a5['Ghi\x20ch√∫']||'')+_0xc94129(0x1a1),_0x3d531c[_0xc94129(0x16e)](_0x4f372d);const _0x401fa3=_0x39a9a5['M√£\x20SP']||_0x39a9a5[_0xc94129(0x114)]||_0x39a9a5['Product\x20ID']||_0x39a9a5[_0xc94129(0x10d)];if(_0x401fa3&&_0x14e155[_0xc94129(0x12c)](_0x401fa3)){const _0x5d2392=_0x14e155[_0xc94129(0x125)](_0x401fa3);console[_0xc94129(0x122)](_0xc94129(0x170)+_0x401fa3+':',_0x5d2392);const _0x38a1d6=_0x5d2392['H√¨nh\x20·∫£nh']||_0x5d2392['Image']||_0x5d2392[_0xc94129(0x159)]||_0x5d2392[_0xc94129(0x19e)]||_0x5d2392[_0xc94129(0x16b)]||_0x5d2392['File']||_0x5d2392[_0xc94129(0x141)]||_0x5d2392[_0xc94129(0x100)];console[_0xc94129(0x122)](_0xc94129(0x117)+_0x401fa3+':',_0x38a1d6);const _0x18860c=_0x4f372d[_0xc94129(0x10f)]('.product-image');if(_0x38a1d6){const _0x7f9853=apiService[_0xc94129(0x181)](_0x38a1d6);console[_0xc94129(0x122)]('Image\x20URL\x20for\x20'+_0x401fa3+':',_0x7f9853),_0x54a808[_0xc94129(0x102)](new Promise(_0x5bb908=>{const _0x241c38=_0xc94129;imageHandler[_0x241c38(0x185)](_0x18860c,_0x7f9853),setTimeout(_0x5bb908,0x32);}));}else console[_0xc94129(0x122)]('No\x20image\x20found\x20for\x20product\x20'+_0x401fa3),_0x18860c&&(_0x18860c['innerHTML']=_0xc94129(0xe0));}else{console[_0xc94129(0x122)](_0xc94129(0x123)+_0x401fa3);const _0x3b56d6=_0x4f372d[_0xc94129(0x10f)](_0xc94129(0x118));_0x3b56d6&&(_0x401fa3?_0x3b56d6[_0xc94129(0xe8)]='<div\x20class=\x22no-image\x22>Kh√¥ng\x20t√¨m\x20th·∫•y\x20SP</div>':_0x3b56d6[_0xc94129(0xe8)]=_0xc94129(0x156));}}const _0x2e5b57=state['orderData']['header'],_0xd19dcd=parseFloat(_0x2e5b57[_0xc94129(0x120)]||0x0),_0x21f036=parseFloat(_0x2e5b57[_0xc94129(0x178)]||0x0),_0x3ac560=_0xd19dcd*_0x21f036,_0x39987e=parseFloat(_0x2e5b57[_0xc94129(0x18e)]||0x0),_0x32556d=Math['round'](_0x21f036*0x64)+'%',_0x21400d=formatNumber(_0xd19dcd),_0x890bfb=formatNumber(_0x3ac560),_0x26e20f=formatNumber(_0x39987e),_0x131cc5=document['createElement']('tr');_0x131cc5[_0xc94129(0x14b)]='total-row',_0x131cc5[_0xc94129(0xe8)]=_0xc94129(0x17d)+_0x21400d+_0xc94129(0x179),_0x3d531c[_0xc94129(0x16e)](_0x131cc5);const _0x12101a=document['createElement']('tr');_0x12101a[_0xc94129(0x14b)]=_0xc94129(0xf6),_0x12101a[_0xc94129(0xe8)]=_0xc94129(0x110)+_0x32556d+_0xc94129(0x12f)+_0x890bfb+_0xc94129(0x179),_0x3d531c[_0xc94129(0x16e)](_0x12101a);const _0x5e4b4e=document[_0xc94129(0x1a4)]('tr');_0x5e4b4e[_0xc94129(0x14b)]=_0xc94129(0xf6),_0x5e4b4e[_0xc94129(0xe8)]=_0xc94129(0x12a)+_0x26e20f+_0xc94129(0x179),_0x3d531c['appendChild'](_0x5e4b4e);const _0x2619cd=document[_0xc94129(0x1a4)]('tr');_0x2619cd[_0xc94129(0xe8)]=_0xc94129(0x1af)+numberToWords(_0x39987e)+_0xc94129(0x127),_0x3d531c[_0xc94129(0x16e)](_0x2619cd),await Promise[_0xc94129(0x187)](_0x54a808),console['log']('All\x20images\x20started\x20loading');}catch(_0x1a764c){console[_0xc94129(0x192)](_0xc94129(0x13b),_0x1a764c);throw _0x1a764c;}}function showError(_0x1eb9e1){const _0x24ca59=_0x506358,_0x175acf=document['getElementById'](_0x24ca59(0x109));_0x175acf[_0x24ca59(0xe8)]='<tr><td\x20colspan=\x228\x22\x20class=\x22error\x22>‚ùå\x20L·ªói:\x20'+_0x1eb9e1+_0x24ca59(0x16c);const _0x21f90c=[_0x24ca59(0x163),_0x24ca59(0x189),_0x24ca59(0x145),_0x24ca59(0x1a9),_0x24ca59(0x195),_0x24ca59(0x12d),_0x24ca59(0x197),_0x24ca59(0x103),_0x24ca59(0x12b),_0x24ca59(0xef),_0x24ca59(0x15f)];_0x21f90c[_0x24ca59(0x10e)](_0x25bc1d=>{const _0x53dc90=_0x24ca59,_0x3dafd4=document[_0x53dc90(0x199)](_0x25bc1d);if(_0x3dafd4)_0x3dafd4[_0x53dc90(0xf3)]=_0x53dc90(0x133);});}function getUrlParameter(_0x30bf6e){const _0x404d71=_0x506358,_0x5df857=new URLSearchParams(window[_0x404d71(0x107)][_0x404d71(0x188)]);return _0x5df857[_0x404d71(0x125)](_0x30bf6e);}document[_0x506358(0x119)](_0x506358(0x108),function(_0x3e1d04){const _0xa60764=_0x506358;_0x3e1d04[_0xa60764(0x148)]&&_0x3e1d04[_0xa60764(0x142)]==='p'&&(_0x3e1d04['preventDefault'](),printDocument());}),window['addEventListener']('beforeprint',function(){const _0x1d2d8f=_0x506358;console[_0x1d2d8f(0x122)](_0x1d2d8f(0x14a));}),window[_0x506358(0x119)](_0x506358(0x14c),function(){const _0x12b4d8=_0x506358;console[_0x12b4d8(0x122)]('After\x20print\x20event\x20triggered');}),document[_0x506358(0x119)]('DOMContentLoaded',function(){const _0x4aac7c=_0x506358,_0x23e6bf=document['querySelector']('.close');_0x23e6bf&&_0x23e6bf[_0x4aac7c(0x119)](_0x4aac7c(0x134),function(){const _0x43ab59=_0x4aac7c;document[_0x43ab59(0x199)](_0x43ab59(0x1a6))[_0x43ab59(0x18d)][_0x43ab59(0x1a5)]='none';});const _0x146bc4=document[_0x4aac7c(0x199)](_0x4aac7c(0x1a6));_0x146bc4&&_0x146bc4['addEventListener']('click',function(_0x28c239){const _0x3a4fdd=_0x4aac7c;_0x28c239['target']===_0x146bc4&&(_0x146bc4['style']['display']=_0x3a4fdd(0x182));}),initializeOrderData();});async function initializeOrderData(){const _0x4ac91d=_0x506358;try{const _0x5345dc=getUrlParameter(_0x4ac91d(0xe2));if(!_0x5345dc)throw new Error('Vui\x20l√≤ng\x20cung\x20c·∫•p\x20orderId\x20trong\x20URL\x20(v√≠\x20d·ª•:\x20?orderId=ABC123)');const _0x2caac=await fetchOrderData(_0x5345dc);populateOrderHeader(_0x2caac[_0x4ac91d(0x183)]),await populateProductTable(_0x2caac['details']),document['getElementById'](_0x4ac91d(0xff))[_0x4ac91d(0x128)]=![];}catch(_0x38ce2e){console[_0x4ac91d(0x192)](_0x4ac91d(0x190),_0x38ce2e),showError(_0x38ce2e[_0x4ac91d(0xf4)]),document[_0x4ac91d(0x199)]('printBtn')[_0x4ac91d(0x128)]=!![];}}window['PrintManager']=PrintManager,window['printDocument']=printDocument;