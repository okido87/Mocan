const _0x21726d=_0x478e;function _0x5251(){const _0xd03539=['print','7697388atjHWs','BASE_URL','T√™n\x20kh√°ch\x20h√†ng','search','Kh√¥ng\x20t√¨m\x20th·∫•y\x20phi·∫øu\x20giao\x20h√†ng\x20v·ªõi\x20s·ªë:\x20','2037efyIdD','deliveryId','nguoiNhanHangKy','productTableBody','find','getTime','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','https://www.appsheet.com/api/v2/apps','908475Blyjyz','T√†i\x20x·∫ø','M√£\x20NV','textContent','97962QAKDRO','createElement','Filter(CTGiaoHang,\x20[S·ªë\x20phi·∫øu\x20GH]\x20=\x20\x27','ƒê·ªãa\x20ch·ªâ\x20giao\x20h√†ng','MocAnSystem-777046908','14vWxAQZ','API\x20request\x20failed:','loading','GiaoHang','L·ªói\x20t·∫£i\x20d·ªØ\x20li·ªáu','Error\x20fetching\x20delivery:','error','addEventListener','2104tFQnNg','CTGiaoHang','none','PrintManager','ngayGiao','taiXe','ACCESS_KEY','11hfhCjY','ghiChuGiaoHang','nguoiLap','title','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22product-name\x22>','diaChiGiaoHang','SL\x20b√π\x20hao','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22number\x22>','showPrintStatus','H√¨nh\x20th·ª©c\x20giao','4494997WvbgiP','classList','printDocumentNoHeader','Find','Filter(GiaoHang,\x20[S·ªë\x20phi·∫øu\x20GH]\x20=\x20\x27','forEach','location','key','www','style','Error\x20populating\x20header:','header','loadingOverlay','soDienThoai','18cIReZg','\x20th√°ng\x20','appendChild','preventDefault','123456','</td></tr>','tenKhachHang','post','/tables','block','Ng∆∞·ªùi\x20nh·∫≠n\x20h√†ng','deliveryData','‚è≥\x20ƒêang\x20in...','length','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden-content','H·ªç\x20v√†\x20t√™n','printBtnNoHeader','S·ªë\x20phi·∫øu\x20GH','application/json','üìÑ\x20In\x20kh√¥ng\x20ti√™u\x20ƒë·ªÅ','ctrlKey','SL\x20th·ª±c\x20t√≠nh','disabled','1411974vmuYwX','soPhieuGH','printStatus','ƒêang\x20chu·∫©n\x20b·ªã\x20in...','Vui\x20l√≤ng\x20cung\x20c·∫•p\x20deliveryId\x20trong\x20URL\x20(v√≠\x20d·ª•:\x20?deliveryId=GH001)','DOMContentLoaded','details','323b6578-b51a-425a-9775-c84d2d8d0904','C√≥\x20l·ªói\x20x·∫£y\x20ra\x20khi\x20in.\x20Vui\x20l√≤ng\x20th·ª≠\x20l·∫°i!','hidePrintStatus','all','S·ªë\x20ƒêH','nguoiLienHe','keydown','nhanVien','<tr><td\x20colspan=\x228\x22\x20class=\x22error\x22>‚ùå\x20L·ªói:\x20','headerSection','format','data','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','S·ªë\x20ƒëi·ªán\x20tho·∫°i','ƒêang\x20t·∫£i...','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','APP_ID','getDate','42YjQjbV','printBtn','1125625UjgrFK','Ghi\x20ch√∫','ƒêvt','üñ®Ô∏è\x20In\x20phi·∫øu\x20giao\x20h√†ng','30ajamcs','printDocument','display','message','V2-MipF3-d6wQk-t6AIN-zzz0j-HglL4-Uq2Yp-EckHF-m3lOV','getElementById','vi-VN','20javuuf','flex','getFullYear','NumberFormat','Error\x20initializing\x20delivery\x20data:','request','remove','hinhThucVanChuyen','innerHTML'];_0x5251=function(){return _0xd03539;};return _0x5251();}(function(_0x19746f,_0x475d3f){const _0x49a5f8=_0x478e,_0x40d77b=_0x19746f();while(!![]){try{const _0xfd88de=parseInt(_0x49a5f8(0x1cb))/0x1*(parseInt(_0x49a5f8(0x19f))/0x2)+parseInt(_0x49a5f8(0x19b))/0x3*(-parseInt(_0x49a5f8(0x184))/0x4)+parseInt(_0x49a5f8(0x1fe))/0x5*(parseInt(_0x49a5f8(0x1fc))/0x6)+-parseInt(_0x49a5f8(0x193))/0x7*(-parseInt(_0x49a5f8(0x1ac))/0x8)+parseInt(_0x49a5f8(0x1e3))/0x9*(-parseInt(_0x49a5f8(0x202))/0xa)+parseInt(_0x49a5f8(0x1b3))/0xb*(parseInt(_0x49a5f8(0x18e))/0xc)+parseInt(_0x49a5f8(0x1bd))/0xd*(-parseInt(_0x49a5f8(0x1a4))/0xe);if(_0xfd88de===_0x475d3f)break;else _0x40d77b['push'](_0x40d77b['shift']());}catch(_0x479ad5){_0x40d77b['push'](_0x40d77b['shift']());}}}(_0x5251,0xce4a3));const API_CONFIG={'APP_ID':_0x21726d(0x1ea),'ACCESS_KEY':_0x21726d(0x206),'REGION':_0x21726d(0x1c5),'BASE_URL':_0x21726d(0x19a),'APP_NAME':_0x21726d(0x1a3)};function setDocumentTitle(_0x36ddab){const _0x1daee9=_0x21726d;_0x36ddab&&_0x36ddab!==_0x1daee9(0x1f8)&&(document[_0x1daee9(0x1b6)]=_0x36ddab);}let state={'deliveryData':null,'loading':![]};const PrintManager={'print':async(_0x8680f5=![])=>{const _0x4dccae=_0x21726d;try{if(!state[_0x4dccae(0x1d6)]){alert('Vui\x20l√≤ng\x20ƒë·ª£i\x20d·ªØ\x20li·ªáu\x20t·∫£i\x20xong\x20tr∆∞·ªõc\x20khi\x20in!');return;}const _0xa268f5=document[_0x4dccae(0x182)]('printBtn'),_0xf79923=document[_0x4dccae(0x182)](_0x4dccae(0x1dc)),_0x1eee71=document[_0x4dccae(0x182)](_0x4dccae(0x1f3)),_0x476a85=_0x8680f5?_0xf79923['innerHTML']:_0xa268f5[_0x4dccae(0x18c)],_0x8faec8=_0x8680f5?_0xf79923:_0xa268f5;_0x8faec8[_0x4dccae(0x1e2)]=!![],_0x8faec8[_0x4dccae(0x18c)]=_0x4dccae(0x1d7),PrintManager[_0x4dccae(0x1bb)](_0x4dccae(0x1e6));_0x8680f5&&_0x1eee71[_0x4dccae(0x1be)]['add'](_0x4dccae(0x1da));const _0x50d20b=document[_0x4dccae(0x182)]('soPhieuGH')[_0x4dccae(0x19e)];_0x50d20b&&_0x50d20b!==_0x4dccae(0x1f8)&&(document[_0x4dccae(0x1b6)]='PhieuGiaoHang_'+_0x50d20b),PrintManager['hidePrintStatus'](),window[_0x4dccae(0x18d)](),_0x8680f5&&_0x1eee71[_0x4dccae(0x1be)][_0x4dccae(0x18a)](_0x4dccae(0x1da)),setTimeout(()=>{const _0x4a5ea2=_0x4dccae;_0x8faec8['disabled']=![],_0x8faec8[_0x4a5ea2(0x18c)]=_0x476a85;},0x3e8);}catch(_0xa8a180){console[_0x4dccae(0x1aa)]('Print\x20error:',_0xa8a180),alert(_0x4dccae(0x1eb));const _0x334aed=document[_0x4dccae(0x182)](_0x4dccae(0x1fd)),_0x3f8aca=document[_0x4dccae(0x182)](_0x4dccae(0x1dc)),_0x47a488=document[_0x4dccae(0x182)](_0x4dccae(0x1f3));_0x334aed[_0x4dccae(0x1e2)]=![],_0x334aed[_0x4dccae(0x18c)]=_0x4dccae(0x201),_0x3f8aca[_0x4dccae(0x1e2)]=![],_0x3f8aca[_0x4dccae(0x18c)]=_0x4dccae(0x1df),_0x47a488[_0x4dccae(0x1be)][_0x4dccae(0x18a)](_0x4dccae(0x1da)),PrintManager[_0x4dccae(0x1ec)]();}},'showPrintStatus':_0x386d29=>{const _0x573794=_0x21726d,_0x156428=document[_0x573794(0x182)]('printStatus');_0x156428[_0x573794(0x19e)]=_0x386d29,_0x156428['style'][_0x573794(0x204)]=_0x573794(0x1d4);},'hidePrintStatus':()=>{const _0x1e08db=_0x21726d,_0x188f59=document[_0x1e08db(0x182)](_0x1e08db(0x1e5));_0x188f59[_0x1e08db(0x1c6)][_0x1e08db(0x204)]=_0x1e08db(0x1ae);}};function printDocument(){const _0xf8c070=_0x21726d;PrintManager[_0xf8c070(0x18d)](![]);}function printDocumentNoHeader(){const _0x225c88=_0x21726d;PrintManager[_0x225c88(0x18d)](!![]);}const apiService={'createAxiosInstance'(){const _0x47cb41=_0x21726d;return axios['create']({'baseURL':API_CONFIG[_0x47cb41(0x18f)]+'/'+API_CONFIG[_0x47cb41(0x1fa)]+_0x47cb41(0x1d3),'headers':{'ApplicationAccessKey':API_CONFIG[_0x47cb41(0x1b2)],'Content-Type':_0x47cb41(0x1de)}});},async 'request'(_0x4c8985,_0x45fadb,_0x2a026d={},_0x113dbe={}){const _0x23e8ce=_0x21726d;try{const _0x24403a=this['createAxiosInstance'](),_0x34aa27={'Action':_0x45fadb,'Properties':{'UserSettings':{'User\x20name':'Admin','Password':_0x23e8ce(0x1cf)},..._0x113dbe},..._0x2a026d},_0x5a9431=await _0x24403a[_0x23e8ce(0x1d2)]('/'+_0x4c8985+'/Action',_0x34aa27);return _0x5a9431[_0x23e8ce(0x1f5)];}catch(_0x4011b1){console[_0x23e8ce(0x1aa)](_0x23e8ce(0x1a5),_0x4011b1);throw _0x4011b1;}}},showLoading=()=>{const _0x3af0aa=_0x21726d;document['getElementById'](_0x3af0aa(0x1c9))[_0x3af0aa(0x1c6)][_0x3af0aa(0x204)]=_0x3af0aa(0x185),state[_0x3af0aa(0x1a6)]=!![];},hideLoading=()=>{const _0x1743fc=_0x21726d;document[_0x1743fc(0x182)](_0x1743fc(0x1c9))[_0x1743fc(0x1c6)][_0x1743fc(0x204)]=_0x1743fc(0x1ae),state[_0x1743fc(0x1a6)]=![];};function formatNumber(_0xfeb455){const _0x1be281=_0x21726d;if(_0xfeb455===null||_0xfeb455===undefined||isNaN(_0xfeb455))return'0';return new Intl[(_0x1be281(0x187))](_0x1be281(0x183))[_0x1be281(0x1f4)](_0xfeb455);}function formatDate(_0x487f1e){const _0x4d3a21=_0x21726d;if(!_0x487f1e)return'';try{const _0x2dbcf7=new Date(_0x487f1e);if(isNaN(_0x2dbcf7[_0x4d3a21(0x198)]()))return _0x487f1e;const _0x1e0d0a=_0x2dbcf7[_0x4d3a21(0x1fb)](),_0x1e85af=_0x2dbcf7['getMonth']()+0x1,_0x121cf0=_0x2dbcf7[_0x4d3a21(0x186)]();return _0x1e0d0a+_0x4d3a21(0x1cc)+_0x1e85af+'\x20nƒÉm\x20'+_0x121cf0;}catch(_0x5f3087){return _0x487f1e;}}async function fetchDeliveryData(_0x381715){const _0x10bcb8=_0x21726d;try{showLoading();const [_0x560564,_0x47250a,_0x399411]=await Promise[_0x10bcb8(0x1ed)]([apiService[_0x10bcb8(0x189)](_0x10bcb8(0x1a7),_0x10bcb8(0x1c0),{},{'Selector':_0x10bcb8(0x1c1)+_0x381715+'\x27)'}),apiService[_0x10bcb8(0x189)](_0x10bcb8(0x1ad),'Find',{},{'Selector':_0x10bcb8(0x1a1)+_0x381715+'\x27)'}),apiService['request']('NhanVien',_0x10bcb8(0x1c0),{},{})]);if(!_0x560564||_0x560564[_0x10bcb8(0x1d8)]===0x0)throw new Error(_0x10bcb8(0x192)+_0x381715);return state['deliveryData']={'header':_0x560564[0x0],'details':_0x47250a||[],'nhanVien':_0x399411||[]},state[_0x10bcb8(0x1d6)];}catch(_0x396dd1){console[_0x10bcb8(0x1aa)](_0x10bcb8(0x1a9),_0x396dd1);throw _0x396dd1;}finally{hideLoading();}}function getTenNhanVien(_0x4b441c,_0x4097ad){const _0x13bcd7=_0x21726d;if(!_0x4b441c||!_0x4097ad)return _0x4b441c||'';const _0x188fd1=_0x4097ad[_0x13bcd7(0x197)](_0x1734e9=>_0x1734e9[_0x13bcd7(0x19d)]===_0x4b441c);return _0x188fd1?_0x188fd1[_0x13bcd7(0x1db)]:_0x4b441c;}function _0x478e(_0x1770e4,_0x1f7334){const _0x525180=_0x5251();return _0x478e=function(_0x478e42,_0x510a98){_0x478e42=_0x478e42-0x182;let _0x24aa29=_0x525180[_0x478e42];return _0x24aa29;},_0x478e(_0x1770e4,_0x1f7334);}function populateDeliveryHeader(_0x689c0d,_0x212665=[]){const _0x9e6547=_0x21726d;try{const _0x5f45d7=_0x689c0d[_0x9e6547(0x1dd)]||'\x20';document[_0x9e6547(0x182)](_0x9e6547(0x1e4))[_0x9e6547(0x19e)]=_0x5f45d7,document['getElementById'](_0x9e6547(0x1b0))[_0x9e6547(0x19e)]=formatDate(_0x689c0d['Ng√†y\x20giao']),setDocumentTitle(_0x5f45d7),document[_0x9e6547(0x182)](_0x9e6547(0x1d1))[_0x9e6547(0x19e)]=_0x689c0d[_0x9e6547(0x190)]||'\x20',document[_0x9e6547(0x182)](_0x9e6547(0x1ca))['textContent']=_0x689c0d[_0x9e6547(0x1f7)]||'\x20',document[_0x9e6547(0x182)]('diaChiGiaoHang')['textContent']=_0x689c0d[_0x9e6547(0x1a2)]||'\x20',document['getElementById'](_0x9e6547(0x1ef))[_0x9e6547(0x19e)]=_0x689c0d[_0x9e6547(0x1d5)]||'\x20',document['getElementById'](_0x9e6547(0x18b))[_0x9e6547(0x19e)]=_0x689c0d[_0x9e6547(0x1bc)]||'\x20';const _0x5909d9=_0x689c0d[_0x9e6547(0x1ff)]||'';document['getElementById'](_0x9e6547(0x1b4))[_0x9e6547(0x19e)]=_0x5909d9,document[_0x9e6547(0x182)](_0x9e6547(0x195))[_0x9e6547(0x19e)]=_0x689c0d['Ng∆∞·ªùi\x20nh·∫≠n\x20h√†ng']||'',document[_0x9e6547(0x182)](_0x9e6547(0x1b1))['textContent']=getTenNhanVien(_0x689c0d[_0x9e6547(0x19c)],_0x212665),document[_0x9e6547(0x182)](_0x9e6547(0x1b5))[_0x9e6547(0x19e)]=getTenNhanVien(_0x689c0d['Ng∆∞·ªùi\x20t·∫°o'],_0x212665);}catch(_0x8ef0e1){console[_0x9e6547(0x1aa)](_0x9e6547(0x1c7),_0x8ef0e1);throw _0x8ef0e1;}}async function populateProductTable(_0x1f9571){const _0x2af139=_0x21726d,_0xb1efcd=document[_0x2af139(0x182)](_0x2af139(0x196));_0xb1efcd['innerHTML']='';try{if(_0x1f9571[_0x2af139(0x1d8)]===0x0){_0xb1efcd[_0x2af139(0x18c)]='<tr><td\x20colspan=\x228\x22\x20class=\x22warning\x22>‚ö†Ô∏è\x20Kh√¥ng\x20c√≥\x20chi\x20ti·∫øt\x20s·∫£n\x20ph·∫©m\x20cho\x20phi·∫øu\x20giao\x20h√†ng\x20n√†y</td></tr>';return;}for(let _0x3b9b48=0x0;_0x3b9b48<_0x1f9571[_0x2af139(0x1d8)];_0x3b9b48++){const _0xeb9e07=_0x1f9571[_0x3b9b48],_0x5d3320=_0xeb9e07[_0x2af139(0x200)]||'',_0xae8db2=parseFloat(_0xeb9e07['SL\x20th·ª±c\x20giao'])||0x0,_0x454994=parseFloat(_0xeb9e07[_0x2af139(0x1b9)])||0x0,_0x1ec365=parseFloat(_0xeb9e07[_0x2af139(0x1e1)])||0x0,_0x1baf0c=document[_0x2af139(0x1a0)]('tr'),_0x295247=_0xeb9e07['T√™n\x20S·∫£n\x20ph·∫©m']||'',_0x1ff7fa=_0xeb9e07[_0x2af139(0x1ee)]||'';_0x1baf0c[_0x2af139(0x18c)]=_0x2af139(0x1f6)+(_0x3b9b48+0x1)+_0x2af139(0x1b7)+_0x295247+_0x2af139(0x199)+_0x5d3320+_0x2af139(0x1ba)+formatNumber(_0xae8db2)+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22number\x22>'+formatNumber(_0x454994)+_0x2af139(0x1ba)+formatNumber(_0x1ec365)+_0x2af139(0x1f9)+(_0xeb9e07[_0x2af139(0x1ff)]||'')+_0x2af139(0x1d9),_0xb1efcd[_0x2af139(0x1cd)](_0x1baf0c);}}catch(_0x53a067){console['error']('Error\x20in\x20populateProductTable:',_0x53a067);throw _0x53a067;}}function showError(_0x347b7d){const _0x5a3e2f=_0x21726d,_0x1cb6a0=document[_0x5a3e2f(0x182)](_0x5a3e2f(0x196));_0x1cb6a0[_0x5a3e2f(0x18c)]=_0x5a3e2f(0x1f2)+_0x347b7d+_0x5a3e2f(0x1d0);const _0x2070d7=[_0x5a3e2f(0x1e4),_0x5a3e2f(0x1b0),_0x5a3e2f(0x1d1),_0x5a3e2f(0x1ca),_0x5a3e2f(0x1b8),_0x5a3e2f(0x1ef),_0x5a3e2f(0x18b)];_0x2070d7[_0x5a3e2f(0x1c2)](_0x2a5489=>{const _0x2cb365=_0x5a3e2f,_0x3be1da=document['getElementById'](_0x2a5489);if(_0x3be1da)_0x3be1da['textContent']=_0x2cb365(0x1a8);});}function getUrlParameter(_0x34bff7){const _0x5d05d4=_0x21726d,_0x5ec65c=new URLSearchParams(window[_0x5d05d4(0x1c3)][_0x5d05d4(0x191)]);return _0x5ec65c['get'](_0x34bff7);}document[_0x21726d(0x1ab)](_0x21726d(0x1f0),function(_0x26b2e3){const _0x383e62=_0x21726d;_0x26b2e3[_0x383e62(0x1e0)]&&_0x26b2e3[_0x383e62(0x1c4)]==='p'&&(_0x26b2e3[_0x383e62(0x1ce)](),printDocument());}),document[_0x21726d(0x1ab)](_0x21726d(0x1e8),function(){initializeDeliveryData();});async function initializeDeliveryData(){const _0x123cbb=_0x21726d;try{const _0x5a5fa3=getUrlParameter(_0x123cbb(0x194));if(!_0x5a5fa3)throw new Error(_0x123cbb(0x1e7));const _0x3a384f=await fetchDeliveryData(_0x5a5fa3);populateDeliveryHeader(_0x3a384f[_0x123cbb(0x1c8)],_0x3a384f[_0x123cbb(0x1f1)]),await populateProductTable(_0x3a384f[_0x123cbb(0x1e9)]),document[_0x123cbb(0x182)]('printBtn')[_0x123cbb(0x1e2)]=![],document['getElementById'](_0x123cbb(0x1dc))[_0x123cbb(0x1e2)]=![];}catch(_0x4021b0){console[_0x123cbb(0x1aa)](_0x123cbb(0x188),_0x4021b0),showError(_0x4021b0[_0x123cbb(0x205)]),document[_0x123cbb(0x182)](_0x123cbb(0x1fd))[_0x123cbb(0x1e2)]=!![],document['getElementById'](_0x123cbb(0x1dc))[_0x123cbb(0x1e2)]=!![];}}window[_0x21726d(0x1af)]=PrintManager,window[_0x21726d(0x203)]=printDocument,window[_0x21726d(0x1bf)]=printDocumentNoHeader;